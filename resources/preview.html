<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>资源预览 | Ginv</title>
  <link rel="stylesheet" href="../assets/css/style.css" />
</head>
<body>
  <div class="container" style="margin-top: 40px;">
    <h1 id="resource-title">资源标题</h1>
    <p id="resource-info">类型：--，日期：--</p>

    <div style="margin-top: 20px;">
      <button id="download-btn" class="download-button">下载资源</button>
    </div>
  </div>

  <script>
    // 获取 URL 参数
    const params = new URLSearchParams(window.location.search);
    const file = params.get("file");
    const title = params.get("title");
    const type = params.get("type");
    const date = params.get("date");

    // 设置页面内容
    document.getElementById("resource-title").innerText = title || "资源预览";
    document.getElementById("resource-info").innerText = `类型：${type}  日期：${date}`;

    // 设置下载按钮
    const downloadBtn = document.getElementById("download-btn");
    downloadBtn.addEventListener("click", () => {
      window.location.href = file;
    });

    if (type.toLowerCase() === 'pdf') {
  const iframe = document.createElement('iframe');
  iframe.src = file;
  iframe.width = "100%";
  iframe.height = "600px";
  document.body.appendChild(iframe);
}

  </script>
</body>
</html>
